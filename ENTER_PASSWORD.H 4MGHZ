#ifndef Enter_Password_H
#define Enter_Password_H
#define _XTAL_FREQ 4000000UL
#define one RA0
#define two RA1
#define three RA2
#define four RA3
unsigned char password[4]={0,0,0,0};


void GetFromUser(){
    int i;
    for(i=0;i<4;){
        if(one==1){
            password[i]=0X01;
            sendString("1");
            i++;
            __delay_ms(250);      
            while(one==1);          
        }
        else if(two==1){
            password[i]=0X02;
            sendString("2");
            i++;
            __delay_ms(250);        
            while(two==1);          
        }
        else if(three==1){
            password[i]=0X03;
            sendString("3");
            i++;
            __delay_ms(250);        
            while(three==1);        
        }
        else if(four==1){
            password[i]=0X04;
            sendString("4");
            i++;
            __delay_ms(250);        
            while(four==1);         
        }
    }
    sendString("SAVED!");
    return;
}

char AskFromUser(){
    int i;
    LCD_CMD(0x01); 
    __delay_ms(2);
    sendString("Enter Password:");
    LCD_CMD(0xC0);  
    
    for(i=0; i<4; ){
        if(one==1){
         
            if(password[i] != 0x01){
                LCD_CMD(0x01);
                sendString("WRONG!");
                __delay_ms(2000);
                return 0;
            }
            sendString("$");
            i++;
            __delay_ms(250);
            while(one==1);
        }
        else if(two==1){
           
            if(password[i] != 0x02){
                LCD_CMD(0x01);
                sendString("WRONG!");
                __delay_ms(2000);
                return 0;
            }
            sendString("$");
            i++;
            __delay_ms(250);
            while(two==1);
        }
        else if(three==1){
            
            if(password[i] != 0x03){
                LCD_CMD(0x01);
                sendString("WRONG!");
                __delay_ms(2000);
                return 0;
            }
            sendString("$");
            i++;
            __delay_ms(250);
            while(three==1);
        }
        else if(four==1){
            
            if(password[i] != 0x04){
                LCD_CMD(0x01);
                sendString("WRONG!");
                __delay_ms(2000);
                return 0;
            }
            sendString("$");
            i++;
            __delay_ms(250);
            while(four==1);
        }
    }
    

    LCD_CMD(0x01);
    __delay_ms(2);
    sendString("CORRECT!");
    __delay_ms(2000);
    return 1;
}
#endif
